#include <Mouse.h>


int mouseLbtn=4;
unsigned int pushMillis=0;

void setup() {

  Mouse.begin();
  pinMode(mouseLbtn,INPUT_PULLUP);
  pushMillis=millis();
}

void loop() {
  int pushBtn = digitalRead(4);
  int xPos = analogRead(0);
  int yPos = analogRead(1);


  
  if(550<xPos){
    Mouse.move(0,1);
  }
  else if(xPos<450){
    Mouse.move(0,-1);
  }
  
  if(550<yPos){
    Mouse.move(-1,0);
  }
  else if(yPos<450){
    Mouse.move(1,0);
  }

  if(pushBtn==0){

    if((millis()-pushMillis)>250){

      Mouse.press(MOUSE_LEFT);
      pushMillis=millis();
    }
  }
  if(pushBtn==1){
    
    if((millis()-pushMillis)>100){
      
        Mouse.release(MOUSE_LEFT);
    }
  }
}
